M.theme_ou={Y:null,oldheight:0,init:function(Y){this.Y=Y;Y.on("domready",this.dom_init,this)},dom_init:function(){var body=this.Y.one('body'),ie7=body.get('className').indexOf('ie7')!=-1;if(ie7){this.fix_main();setInterval(function(){M.theme_ou.fix_main()},250);var body=this.Y.one('body');setTimeout(function(){body.addClass('grr-ie7')},0)};Y.all('a.skip-block').on('click',function(e){var nodeid=e.currentTarget.get('hash'),node=Y.one(nodeid);if(node){node.setAttribute('tabindex',0);node.focus();node.setAttribute('tabindex',-1)};return false});var ie8=body.get('className').indexOf('ie8')!=-1;if(ie8)this.fix_lightboxes()},fix_main:function(){var pre=this.Y.one('#region-pre'),post=this.Y.one('#region-post'),preHeight=pre?pre.get('region').height:0,postHeight=post?post.get('region').height:0,height=Math.max(preHeight,postHeight);if(height>this.oldheight){var main=this.Y.one('#region-main');main.setStyle('minHeight',height+'px');this.oldheight=height}},fix_lightboxes:function(){var Y=this.Y;setInterval(function(){Y.all('div.moodle-dialogue-lightbox').each(function(e){var focused=Y.one('div.moodle-dialogue-focused');if(!focused)return;if(e.focusedDialog===focused)return;e.focusedDialog=focused;var parent=e.get('parentNode');e.remove();setTimeout(function(){parent.get('firstChild').insert(e,'before')},0)})},250)}}